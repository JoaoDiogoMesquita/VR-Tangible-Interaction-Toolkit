<!doctype html>
<html>
<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <title>Shake Example 1</title>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

    <script src="../shake_detector.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
</head>

<body>
<a-scene arjs= 'sourceType: video; sourceUrl: ../images/video_front_back.mp4;' >

    <a-entity id = "env";
              environment ="preset: egypt; dressing: torii;  dressingAmount: 20; dressingColor: red; dressingScale: 10;">
    </a-entity>

    <a-camera>
        <a-marker preset = 'kanji'  mt-shake-detector = "switchInterval: 4000 ; minimumSwitchTimes: 2 ; minimumDistance: 0.5 ; eventTargets:#box; axis:x,y,z ; debug: true;">
          <a-sphere color="blue" radius="0.5"></a-sphere>
        </a-marker>
    </a-camera>

    <a-box position="-3 0 -10" color = "red" id = "box"  ></a-box>


</a-scene>
<select  id="sourceVideos" style="position:absolute; top: 100px; left: 100px">
    <option value="../images/video_front_back">Shake front/back (z) </option>
    <option value="../images/video_left_right">Shake left/right (x) </option>
    <option value="../images/video_up_down">Shake top/bottom (y)</option>
</select>
<script>
    let select = document.querySelector("#sourceVideos");
    select.addEventListener("change", function(evt) {
        document.querySelector("video").src = select.value+".mp4";
    })
    let box = document.getElementById('box');
    box.addEventListener("event_shake", function(e){
        if(box.getAttribute("color") == "red"){
            box.setAttribute("color", "yellow")
        }
        else{
            box.setAttribute("color", "red")
        }
    })
</script>
</body>
</html>


	
<a-marker 
	preset = 'hiro'  
	mt-shake-detector ="switchInterval: 500 ;
						minimumSwitchTimes: 3 ; 
						minimumDistance: 0.3 ; 
						eventTargets:#myBox; 
						axis:y ; 
						debug: true;"
	>
</a-marker>


