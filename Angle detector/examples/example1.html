<!doctype html>
<html>
<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
  <title>Angle Example 1</title>
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
  <script src="../angle_detector.js"></script>
  <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>

</head>

<body>

<a-scene arjs = 'sourceType: video; sourceUrl: ../images/video_rotate.mp4;'>

  <a-entity id = "env"; environment ="preset: japan;dressing: torii;  dressingAmount: 20; dressingColor: red; dressingScale: 10;"></a-entity>

  <a-camera>
    <a-marker preset = 'kanji' mt-angle-detector = "threshold: 20; eventTargets: #box ; axis:y; debug:True;">
      <a-box id='box' color = "red"></a-box>
    </a-marker>
  </a-camera>

</a-scene>


<script>
  let box = document.getElementById('box');
  box.addEventListener("event_rotation", function(e){
    if(box.getAttribute("color") == "red"){
      box.setAttribute("color", "purple")
    }
    else{
      box.setAttribute("color", "red")
    }
  })
</script>
</body>

</html>

